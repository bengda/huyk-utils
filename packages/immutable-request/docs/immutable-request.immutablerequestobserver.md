<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@huyk-utils/immutable-request](./immutable-request.md) &gt; [ImmutableRequestObserver](./immutable-request.immutablerequestobserver.md)

## ImmutableRequestObserver class

接口请求观察类

**Signature:**

```typescript
declare class ImmutableRequestObserver<D, R, C, DE, O, F, RP> 
```

## Example


```ts
const observer = ImmutableRequestObserver.create();
const apiDef = ImmutableRequestApiDef.create()
  .baseUrl('')
  .url(('api/v1/list'))
  .method('GET')
  .response(z.object({ hello: z.string() }))
  .responseType('json');

apiDef.query('response');

const ob1 = observer.consume(apiDef);

ob1
  .defaultResponseData({ hello: '' })
  .responseParser((res) => {});
```

## Properties

<table><thead><tr><th>

Property


</th><th>

Modifiers


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[\[ef\]](./immutable-request.immutablerequestobserver._ef_.md)


</td><td>


</td><td>

[ImmutableRequestObserverEffector](./immutable-request.immutablerequestobservereffector.md)<!-- -->&lt;D, R&gt;


</td><td>


</td></tr>
<tr><td>

[\[icts\]](./immutable-request.immutablerequestobserver._icts_.md)


</td><td>


</td><td>

[ImmutableRequestObserverInterceptor](./immutable-request.immutablerequestobserverinterceptor.md)<!-- -->&lt;D, R, C&gt;


</td><td>


</td></tr>
<tr><td>

[\[kv\_m\]](./immutable-request.immutablerequestobserver._kv_m_.md)


</td><td>


</td><td>

[RequestObserverKV](./immutable-request.requestobserverkv.md)<!-- -->&lt;D, R, C, DE, O, F, RP&gt;


</td><td>


</td></tr>
<tr><td>

[\[lmt\]](./immutable-request.immutablerequestobserver._lmt_.md)


</td><td>


</td><td>

AsyncExecutionLimiter


</td><td>


</td></tr>
</tbody></table>

## Methods

<table><thead><tr><th>

Method


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[clearEffects()](./immutable-request.immutablerequestobserver.cleareffects.md)


</td><td>


</td><td>



</td></tr>
<tr><td>

[clearInterceptors()](./immutable-request.immutablerequestobserver.clearinterceptors.md)


</td><td>


</td><td>



</td></tr>
<tr><td>

[clone(disableInheritListeners)](./immutable-request.immutablerequestobserver.clone.md)


</td><td>


</td><td>

复制为一个新的实例


</td></tr>
<tr><td>

[cloneEffector(source, target, disableInheritListeners)](./immutable-request.immutablerequestobserver.cloneeffector.md)


</td><td>

`static`


</td><td>



</td></tr>
<tr><td>

[cloneInterceptor(source, target, disableInheritListeners)](./immutable-request.immutablerequestobserver.cloneinterceptor.md)


</td><td>

`static`


</td><td>



</td></tr>
<tr><td>

[consume(immutableApiDef)](./immutable-request.immutablerequestobserver.consume.md)


</td><td>


</td><td>

消费接口定义

NOTE 会派生出一个新的实例

NOTE 会重置`responseParser`


</td></tr>
<tr><td>

[create(kv, effector, interceptor)](./immutable-request.immutablerequestobserver.create.md)


</td><td>

`static`


</td><td>



</td></tr>
<tr><td>

[defaultResponseData(value)](./immutable-request.immutablerequestobserver.defaultresponsedata.md)


</td><td>


</td><td>

设置默认返回值

NOTE 会派生出一个新的实例。


</td></tr>
<tr><td>

[derive(kv, disableInheritListeners)](./immutable-request.immutablerequestobserver.derive.md)


</td><td>


</td><td>

派生出一个新的实例


</td></tr>
<tr><td>

[fetcher(fetcher)](./immutable-request.immutablerequestobserver.fetcher.md)


</td><td>


</td><td>

设置真正发起请求的执行器

NOTE 会派生出一个新的实例。


</td></tr>
<tr><td>

[intercept(args)](./immutable-request.immutablerequestobserver.intercept.md)


</td><td>


</td><td>

监听请求操作，并进行相关数据修改


</td></tr>
<tr><td>

[limit(limit)](./immutable-request.immutablerequestobserver.limit.md)


</td><td>


</td><td>

限制并发数

NOTE 会派生出一个新的实例。只更改当前实例数据请使用`update`<!-- -->方法


</td></tr>
<tr><td>

[observe(effect)](./immutable-request.immutablerequestobserver.observe.md)


</td><td>


</td><td>

观察每个请求阶段的状态和数据


</td></tr>
<tr><td>

[options(options, overwrite)](./immutable-request.immutablerequestobserver.options.md)


</td><td>


</td><td>

请求行为的其他配置

NOTE 会派生出一个新的实例。只更改当前实例数据请使用`update`<!-- -->方法


</td></tr>
<tr><td>

[query(key)](./immutable-request.immutablerequestobserver.query.md)


</td><td>


</td><td>



</td></tr>
<tr><td>

[race(race)](./immutable-request.immutablerequestobserver.race.md)


</td><td>


</td><td>

设置是否是竞态执行

NOTE 会派生出一个新的实例。只更改当前实例数据请使用`update`<!-- -->方法


</td></tr>
<tr><td>

[responseParser(responseParser)](./immutable-request.immutablerequestobserver.responseparser.md)


</td><td>


</td><td>

设置对返回的数据进行解析的函数

NOTE 会派生出一个新的实例。只更改当前实例数据请使用`update`<!-- -->方法

NOTE 建议只在最后的使用前进行定义


</td></tr>
<tr><td>

[send(data, opts)](./immutable-request.immutablerequestobserver.send.md)


</td><td>


</td><td>

发送数据


</td></tr>
<tr><td>

[update(k, v)](./immutable-request.immutablerequestobserver.update.md)


</td><td>


</td><td>

更新数据


</td></tr>
</tbody></table>
